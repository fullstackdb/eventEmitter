(function(a,b){if('function'==typeof define&&define.amd)define('Event',['exports'],b);else if('undefined'!=typeof exports)b(exports);else{var c={exports:{}};b(c.exports),a.Event=c.exports}})(this,function(a){'use strict';function b(g,h){if(!(g instanceof h))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(a,'__esModule',{value:!0}),a.default=function(){return new f};var c=function(){function g(h,j){for(var l,k=0;k<j.length;k++)l=j[k],l.enumerable=l.enumerable||!1,l.configurable=!0,'value'in l&&(l.writable=!0),Object.defineProperty(h,l.key,l)}return function(h,j,k){return j&&g(h.prototype,j),k&&g(h,k),h}}(),d=function(){function g(h){b(this,g),this.subject=h}return c(g,[{key:'when',value:function(j,k){return this.subject.addListener(j,function(l){k(l)})}}]),g}(),e=function(){function g(){b(this,g),this.listeners=new Map}return c(g,[{key:'addListener',value:function(j,k){this.listeners.has(j)||this.listeners.set(j,[]),this.listeners.get(j).push(k)}},{key:'removeListener',value:function(j,k){var n,l=function isFunction(o){return'function'==typeof o||!1},m=this.listeners.get(j);return m&&m.length&&(n=m.reduce(function(o,p,q){return l(p)&&p===k?o=q:o},-1),-1<n)&&(m.splice(n,1),this.listeners.set(j,m),!0)}},{key:'emit',value:function(j){for(var k=arguments.length,l=Array(1<k?k-1:0),m=1;m<k;m++)l[m-1]=arguments[m];var n=this.listeners.get(j);return n&&n.length&&(n.forEach(function(o){o.apply(void 0,l)}),!0)}}]),g}(),f=function(){function g(){b(this,g),this.eventEmitter=new e,this.eventListeners=new d(this.eventEmitter)}return c(g,[{key:'emit',value:function(j,k){this.eventEmitter.emit(j,k)}},{key:'when',value:function(j,k){return this.eventListeners.when(j,k)}}]),g}()});
